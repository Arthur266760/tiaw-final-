<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2MONEY - Ranking</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="style-gamificacao.css" rel="stylesheet">
</head>
<body>
    <div class="container py-4">
        <!-- Cabe√ßalho -->
        <div class="text-center mb-4">
            <div class="money-icon">üí∞</div>
            <a href="gamificacao.html" class="btn btn-outline-light btn-sm mt-2">
                ‚Üê Voltar para Dashboard
            </a>
        </div>

        <div class="row">
            <!-- Coluna Principal - Ranking -->
            <div class="col-lg-8">
                <div class="card shadow">
                    <div class="card-body">
                        <h3 class="card-title mb-4">üèÜ Ranking de Investidores</h3>
                        <p class="text-muted">Clique em 2 usu√°rios do mesmo n√≠vel para comparar</p>
                        
                        <!-- Filtro de N√≠vel -->
                        <div class="mb-4">
                            <label class="form-label fw-bold">Filtrar por N√≠vel:</label>
                            <select class="form-select" id="levelFilter" onchange="filterByLevel()">
                                <option value="all">Todos os N√≠veis</option>
                                <option value="iniciante">Iniciante (1-3)</option>
                                <option value="intermediario">Intermedi√°rio (4-7)</option>
                                <option value="avancado">Avan√ßado (8-10)</option>
                                <option value="expert">Expert (11+)</option>
                            </select>
                        </div>

                        <!-- Lista de Usu√°rios -->
                        <div id="rankingList">
                            <p class="text-muted">Carregando ranking...</p>
                        </div>
                    </div>
                </div>

                <!-- Metas Semanais -->
                <div class="card shadow mt-4" style="background: linear-gradient(135deg, #667eea, #764ba2); color: white;">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <h3>üéØ Metas Semanais</h3>
                            <span class="badge bg-danger fs-6">‚è±Ô∏è <span id="timer">7d 0h 0m</span></span>
                        </div>
                        <p>Complete as metas para ganhar XP! Renovam a cada 7 dias.</p>
                        
                        <div id="weekly-goals">
                            <p class="text-light">Carregando metas...</p>
                        </div>
                        
                        <div class="mt-3 p-3 rounded" style="background: rgba(255,255,255,0.2);">
                            <div class="d-flex justify-content-between">
                                <div>
                                    <strong>Progresso:</strong>
                                    <span id="progress">0/5</span>
                                </div>
                                <div>
                                    <strong>XP Ganhos:</strong>
                                    <span id="xp-gained">+0 XP</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Coluna Lateral -->
            <div class="col-lg-4">
                <!-- Compara√ß√£o -->
                <div class="card shadow">
                    <div class="card-body">
                        <h5>‚öîÔ∏è Comparar (<span id="selectedCount">0</span>/2)</h5>
                        <p class="small text-muted">Selecione 2 usu√°rios do mesmo n√≠vel</p>
                        
                        <div id="selected-users">
                            <p class="text-muted small">Clique nos usu√°rios</p>
                        </div>
                        
                        <button class="btn btn-primary w-100 mt-3" id="compare-btn" disabled onclick="showComparison()">
                            Comparar Usu√°rios
                        </button>
                    </div>
                </div>

                <!-- Estat√≠sticas Globais -->
                <div class="card shadow mt-3">
                    <div class="card-body">
                        <h5>üìä Estat√≠sticas Globais</h5>
                        <div id="stats">
                            <p class="text-muted">Carregando estat√≠sticas...</p>
                        </div>
                    </div>
                </div>

                <!-- Legenda de N√≠veis -->
                <div class="card shadow mt-3">
                    <div class="card-body">
                        <h5>üéñÔ∏è N√≠veis</h5>
                        <div class="level-legend">
                            <div class="level-item">
                                <span class="level-badge iniciante">1-3</span>
                                <span>Iniciante</span>
                            </div>
                            <div class="level-item">
                                <span class="level-badge intermediario">4-7</span>
                                <span>Intermedi√°rio</span>
                            </div>
                            <div class="level-item">
                                <span class="level-badge avancado">8-10</span>
                                <span>Avan√ßado</span>
                            </div>
                            <div class="level-item">
                                <span class="level-badge expert">11+</span>
                                <span>Expert</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Compara√ß√£o Detalhada -->
        <div id="comparison" style="display: none;" class="mt-4"></div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
    <script type="module" src="ranking.js"></script>
</body>
</html>